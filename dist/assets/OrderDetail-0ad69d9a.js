import{ac as b,ad as N,ae as D,af as T,e as p,ag as I,ah as V,_ as $,l as A,a as F,o as L,z as M,A as U,b as r,c as v,d as o,t as _,M as f,w as i,D as h,n as q,q as E,g as w,B as H,a6 as W,h as u,p as z,k as R,ab as j}from"./index-561458c6.js";/* empty css              *//* empty css              *//* empty css              */import{s as G}from"./SimpleHeader-dc6b26c3.js";import{a as J,b as K,d as Q,p as X}from"./order-5a5526db.js";let y;const Y={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let Z=b({},Y);function ee(){({instance:y}=D({setup(){const{state:d,toggle:e}=T();return()=>p(V,I(d,{"onUpdate:show":e}),null)}}))}function te(a){return N?new Promise((d,e)=>{y||ee(),y.open(b({},Z,a,{callback:n=>{(n==="confirm"?d:e)(n)}}))}):Promise.resolve()}const C=a=>te(b({showCancelButton:!0},a));const m=a=>(z("data-v-3502c63e"),a=a(),R(),a),oe={class:"order-detail-box"},se={class:"order-status"},ae={class:"status-item"},le=m(()=>o("label",null,"订单状态：",-1)),ne={class:"status-item"},re=m(()=>o("label",null,"订单编号：",-1)),ie={class:"status-item"},de=m(()=>o("label",null,"下单时间：",-1)),ce={class:"order-price"},ue={class:"price-item"},pe=m(()=>o("label",null,"商品金额：",-1)),me=m(()=>o("div",{class:"price-item"},[o("label",null,"配送方式："),o("span",null,"普通快递")],-1)),_e={style:{width:"90%",margin:"0 auto",padding:"20px 0"}},fe={__name:"OrderDetail",setup(a){const d=A(),e=F({detail:{},showPay:!1});L(()=>{n()});const n=async()=>{M({message:"加载中...",forbidClick:!0});const{id:l}=d.query,{data:t}=await J(l);e.detail=t,U()},k=l=>{C({title:"确认取消订单？"}).then(()=>{K(l).then(t=>{t.resultCode==200&&(w("删除成功"),n())})}).catch(()=>{})},B=l=>{C({title:"是否确认订单？"}).then(()=>{Q(l).then(t=>{t.resultCode==200&&(w("确认成功"),n())})}).catch(()=>{})},O=()=>{e.showPay=!0},g=async(l,t)=>{await X({orderNo:l,payType:t}),e.showPay=!1,n()},P=()=>{};return(l,t)=>{const c=H,S=j,x=W;return r(),v("div",oe,[p(G,{name:"订单详情",onCallback:P}),o("div",se,[o("div",ae,[le,o("span",null,_(e.detail.orderStatusString),1)]),o("div",ne,[re,o("span",null,_(e.detail.orderNo),1)]),o("div",ie,[de,o("span",null,_(e.detail.createTime),1)]),e.detail.orderStatus==3?(r(),f(c,{key:0,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:t[0]||(t[0]=s=>B(e.detail.orderNo))},{default:i(()=>[u("确认收货")]),_:1})):h("",!0),e.detail.orderStatus==0?(r(),f(c,{key:1,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:O},{default:i(()=>[u("去支付")]),_:1})):h("",!0),e.detail.orderStatus<0||e.detail.orderStatus==4?h("",!0):(r(),f(c,{key:2,block:"",onClick:t[1]||(t[1]=s=>k(e.detail.orderNo))},{default:i(()=>[u("取消订单")]),_:1}))]),o("div",ce,[o("div",ue,[pe,o("span",null,"¥ "+_(e.detail.totalPrice),1)]),me]),(r(!0),v(q,null,E(e.detail.newBeeMallOrderItemVOS,s=>(r(),f(S,{key:s.goodsId,style:{background:"#fff"},num:s.goodsCount,price:s.sellingPrice,desc:"全场包邮",title:s.goodsName,thumb:l.$filters.prefix(s.goodsCoverImg)},null,8,["num","price","title","thumb"]))),128)),p(x,{show:e.showPay,"onUpdate:show":t[4]||(t[4]=s=>e.showPay=s),position:"bottom",style:{height:"24%"}},{default:i(()=>[o("div",_e,[p(c,{style:{marginBottom:"10px"},color:"#1989fa",block:"",onClick:t[2]||(t[2]=s=>g(e.detail.orderNo,1))},{default:i(()=>[u("支付宝支付")]),_:1}),p(c,{color:"#4fc08d",block:"",onClick:t[3]||(t[3]=s=>g(e.detail.orderNo,2))},{default:i(()=>[u("微信支付")]),_:1})])]),_:1},8,["show"])])}}},Ce=$(fe,[["__scopeId","data-v-3502c63e"]]);export{Ce as default};
