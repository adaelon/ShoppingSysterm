import{l as f,u as _,a as A,o as y,b as r,c as h,e as x,d as I,M as u,a7 as V}from"./index-561458c6.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{s as k}from"./SimpleHeader-dc6b26c3.js";import{b as v}from"./address-46968ff2.js";const g={class:"address-box"},N={class:"address-item"},U={__name:"Address",setup($){var i;const t=f(),o=_(),s=A({chosenAddressId:"1",list:[],from:((i=t==null?void 0:t.query)==null?void 0:i.from)??""});y(()=>{m()});const m=async()=>{const{data:d}=await v();if(!d){s.list=[];return}s.list=d.map(e=>({id:e.addressId,name:e.userName,tel:e.userPhone,address:`${e.provinceName} ${e.cityName} ${e.regionName} ${e.detailAddress}`,isDefault:!!e.defaultFlag}))},n=()=>{o.push({path:"address-edit",query:{type:"add",from:s.from}})},l=d=>{o.push({path:"address-edit",query:{type:"edit",addressId:d.id,from:s.from}})},p=(d,e)=>{o.push({path:"create-order",query:{addressId:d.id,from:s.from}})};return(d,e)=>{const c=V;return r(),h("div",g,[x(k,{name:"地址管理",back:s.from=="create-order"?"":"/user"},null,8,["back"]),I("div",N,[s.from!="mine"?(r(),u(c,{key:0,modelValue:s.chosenAddressId,"onUpdate:modelValue":e[0]||(e[0]=a=>s.chosenAddressId=a),list:s.list,"default-tag-text":"默认",onAdd:n,onEdit:l,onSelect:p},null,8,["modelValue","list"])):(r(),u(c,{key:1,modelValue:s.chosenAddressId,"onUpdate:modelValue":e[1]||(e[1]=a=>s.chosenAddressId=a),list:s.list,"default-tag-text":"默认",onAdd:n,onEdit:l},null,8,["modelValue","list"]))])])}}};export{U as default};
