import{l as k,u as B,E as L,a as T,o as I,G as S,H as D,b as i,c as p,e as s,d as t,w as d,t as g,J as A,K as H,n as M,q as N,M as P,N as m,O as C,g as R,Q as $,R as q,U as E}from"./index-561458c6.js";/* empty css              */import{a as V}from"./good-62b58d5b.js";import{s as F}from"./SimpleHeader-dc6b26c3.js";const G={class:"product-detail"},J={class:"detail-content"},K={class:"detail-swipe-wrap"},O=["src"],Q={class:"product-info"},U={class:"product-title"},j=t("div",{class:"product-desc"},"免邮费 顺丰快递",-1),z={class:"product-price"},W={class:"product-intro"},X=t("ul",null,[t("li",null,"概述"),t("li",null,"参数"),t("li",null,"安装服务"),t("li",null,"常见问题")],-1),Y=["innerHTML"],at={__name:"ProductDetail",setup(Z){const h=k(),l=B(),n=L(),o=T({detail:{goodsCarouselList:[]}});I(async()=>{const{id:e}=h.params,{data:a}=await V(e);a.goodsCarouselList=a.goodsCarouselList.map(c=>S(c)),o.detail=a,n.updateCart()}),D(()=>{const e=document.querySelector(".detail-content");e.scrollTop=0});const v=()=>{l.push({path:"/cart"})},f=async()=>{const{resultCode:e}=await C({goodsCount:1,goodsId:o.detail.goodsId});e==200&&R("添加成功"),n.updateCart()},w=async()=>{await C({goodsCount:1,goodsId:o.detail.goodsId}),n.updateCart(),l.push({path:"/cart"})};return(e,a)=>{const c=$,x=A,r=q,u=E,y=H;return i(),p("div",G,[s(F,{name:"商品详情"}),t("div",J,[t("div",K,[s(x,{class:"my-swipe","indicator-color":"#1baeae"},{default:d(()=>[(i(!0),p(M,null,N(o.detail.goodsCarouselList,(_,b)=>(i(),P(c,{key:b},{default:d(()=>[t("img",{src:_,alt:""},null,8,O)]),_:2},1024))),128))]),_:1})]),t("div",Q,[t("div",U,g(o.detail.goodsName||""),1),j,t("div",z,[t("span",null,"¥"+g(o.detail.sellingPrice||""),1)])]),t("div",W,[X,t("div",{class:"product-content",innerHTML:o.detail.goodsDetailContent||""},null,8,Y)])]),s(y,null,{default:d(()=>[s(r,{icon:"chat-o",text:"客服"}),s(r,{icon:"cart-o",badge:m(n).count?m(n).count:"",onClick:a[0]||(a[0]=_=>v()),text:"购物车"},null,8,["badge"]),s(u,{color:"#be99ff",type:"warning",onClick:f,text:"加入购物车"}),s(u,{color:"#7232dd",type:"danger",onClick:w,text:"立即购买"})]),_:1})])}}};export{at as default};
