import{r as _,a as w,o as d,c as i,b as a,w as r,d as t,s as y,e as b,F as f,f as c,g as V,B as v}from"./index-cb6107a9.js";/* empty css              *//* empty css              *//* empty css              */import{s as k}from"./SimpleHeader-d7cd66ad.js";import{l as h,r as x}from"./user-f4e5337e.js";import{m as B}from"./md5-bfdebcc6.js";const N={class:"login"},U=t("img",{class:"logo",src:"https://tse4-mm.cn.bing.net/th/id/OIP-C.plV1iVMTODLk-oVRUmkRfgHaHa?w=176&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7",alt:""},null,-1),q={key:0,class:"login-body login"},C={style:{margin:"16px"}},L={key:1,class:"login-body register"},S={style:{margin:"16px"}},E={__name:"Login",setup(F){_(null);const e=w({username:"",password:"",username1:"",password1:"",type:"login"}),m=l=>{e.type=l,e.verify=""},u=async l=>{if(e.type=="login"){const{data:o}=await h({loginName:l.username,passwordMd5:B(l.password)});y("token",o),window.location.href="/"}else await x({loginName:l.username1,password:l.password1}),b("注册成功"),e.type="login",e.verify=""};return(l,o)=>{const n=V,p=v,g=f;return d(),i("div",N,[a(k,{name:l.type=="login"?"登录":"注册",back:"/home"},null,8,["name"]),U,e.type=="login"?(d(),i("div",q,[a(g,{onSubmit:u},{default:r(()=>[a(n,{modelValue:e.username,"onUpdate:modelValue":o[0]||(o[0]=s=>e.username=s),name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),a(n,{modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=s=>e.password=s),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),t("div",C,[t("div",{class:"link-register",onClick:o[2]||(o[2]=s=>m("register"))},"立即注册"),a(p,{round:"",block:"",color:"#1baeae","native-type":"submit"},{default:r(()=>[c("登录")]),_:1})])]),_:1})])):(d(),i("div",L,[a(g,{onSubmit:u},{default:r(()=>[a(n,{modelValue:e.username1,"onUpdate:modelValue":o[3]||(o[3]=s=>e.username1=s),name:"username1",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),a(n,{modelValue:e.password1,"onUpdate:modelValue":o[4]||(o[4]=s=>e.password1=s),type:"password",name:"password1",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),t("div",S,[t("div",{class:"link-login",onClick:o[5]||(o[5]=s=>m("login"))},"已有登录账号"),a(p,{round:"",block:"",color:"#1baeae","native-type":"submit"},{default:r(()=>[c("注册")]),_:1})])]),_:1})]))])}}};export{E as default};
