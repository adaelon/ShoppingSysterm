import{k as f,u as _,a as A,h,o as r,c as y,b as x,d as k,K as u,a7 as I}from"./index-cb6107a9.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{s as V}from"./SimpleHeader-d7cd66ad.js";import{b as v}from"./address-3c90195e.js";const g={class:"address-box"},N={class:"address-item"},w={__name:"Address",setup($){var i;const t=f(),o=_(),s=A({chosenAddressId:"1",list:[],from:((i=t==null?void 0:t.query)==null?void 0:i.from)??""});h(()=>{m()});const m=async()=>{const{data:d}=await v();if(!d){s.list=[];return}s.list=d.map(e=>({id:e.addressId,name:e.userName,tel:e.userPhone,address:`${e.provinceName} ${e.cityName} ${e.regionName} ${e.detailAddress}`,isDefault:!!e.defaultFlag}))},n=()=>{o.push({path:"address-edit",query:{type:"add",from:s.from}})},l=d=>{o.push({path:"address-edit",query:{type:"edit",addressId:d.id,from:s.from}})},p=(d,e)=>{o.push({path:"create-order",query:{addressId:d.id,from:s.from}})};return(d,e)=>{const c=I;return r(),y("div",g,[x(V,{name:"地址管理",back:s.from=="create-order"?"":"/user"},null,8,["back"]),k("div",N,[s.from!="mine"?(r(),u(c,{key:0,modelValue:s.chosenAddressId,"onUpdate:modelValue":e[0]||(e[0]=a=>s.chosenAddressId=a),list:s.list,"default-tag-text":"默认",onAdd:n,onEdit:l,onSelect:p},null,8,["modelValue","list"])):(r(),u(c,{key:1,modelValue:s.chosenAddressId,"onUpdate:modelValue":e[1]||(e[1]=a=>s.chosenAddressId=a),list:s.list,"default-tag-text":"默认",onAdd:n,onEdit:l},null,8,["modelValue","list"]))])])}}};export{w as default};
