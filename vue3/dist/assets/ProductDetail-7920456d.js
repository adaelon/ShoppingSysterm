import{k,u as B,D as L,a as T,h as D,E as I,G as S,o as i,c as p,b as s,d as t,w as d,t as m,H as A,J as H,m as M,n as N,K as P,M as g,N as h,e as R,O as $,Q as E,R as V}from"./index-cb6107a9.js";/* empty css              */import{a as q}from"./good-5dbe650d.js";import{s as F}from"./SimpleHeader-d7cd66ad.js";const G={class:"product-detail"},J={class:"detail-content"},K={class:"detail-swipe-wrap"},O=["src"],Q={class:"product-info"},j={class:"product-title"},z=t("div",{class:"product-desc"},"免邮费 顺丰快递",-1),U={class:"product-price"},W={class:"product-intro"},X=t("ul",null,[t("li",null,"概述"),t("li",null,"参数"),t("li",null,"安装服务"),t("li",null,"常见问题")],-1),Y=["innerHTML"],at={__name:"ProductDetail",setup(Z){const C=k(),l=B(),n=L(),o=T({detail:{goodsCarouselList:[]}});D(async()=>{const{id:e}=C.params,{data:a}=await q(e);a.goodsCarouselList=a.goodsCarouselList.map(c=>I(c)),o.detail=a,n.updateCart()}),S(()=>{const e=document.querySelector(".detail-content");e.scrollTop=0});const v=()=>{l.push({path:"/cart"})},f=async()=>{const{resultCode:e}=await h({goodsCount:1,goodsId:o.detail.goodsId});e==200&&R("添加成功"),n.updateCart()},w=async()=>{await h({goodsCount:1,goodsId:o.detail.goodsId}),n.updateCart(),l.push({path:"/cart"})};return(e,a)=>{const c=$,x=A,r=E,u=V,y=H;return i(),p("div",G,[s(F,{name:"商品详情"}),t("div",J,[t("div",K,[s(x,{class:"my-swipe","indicator-color":"#1baeae"},{default:d(()=>[(i(!0),p(M,null,N(o.detail.goodsCarouselList,(_,b)=>(i(),P(c,{key:b},{default:d(()=>[t("img",{src:_,alt:""},null,8,O)]),_:2},1024))),128))]),_:1})]),t("div",Q,[t("div",j,m(o.detail.goodsName||""),1),z,t("div",U,[t("span",null,"¥"+m(o.detail.sellingPrice||""),1)])]),t("div",W,[X,t("div",{class:"product-content",innerHTML:o.detail.goodsDetailContent||""},null,8,Y)])]),s(y,null,{default:d(()=>[s(r,{icon:"chat-o",text:"客服"}),s(r,{icon:"cart-o",badge:g(n).count?g(n).count:"",onClick:a[0]||(a[0]=_=>v()),text:"购物车"},null,8,["badge"]),s(u,{color:"#be99ff",type:"warning",onClick:f,text:"加入购物车"}),s(u,{color:"#7232dd",type:"danger",onClick:w,text:"立即购买"})]),_:1})])}}};export{at as default};
